<hr />
<h3><p *ngIf="!brokerages"><em>You are not authorized ...</em></p></h3>
<!--<h2>{{Title}}</h2>-->

<hr />
<table class='table' style="background-color:#FFFFFF; border:2px #6D7B8D; padding:5px;width:99%;table-layout:fixed;" cellpadding="2" cellspacing="2" *ngIf="brokerages">

    <tr style="height: 30px; background-color:#336699 ; color:#FFFFFF ;border: solid 1px #659EC7;">
        <td width="50" align="center"></td>
        <td width="80" align="center">BrokerageId</td>
        <td width="180" align="center">BrokerageName</td>
        <td width="100" align="center">Street</td>
        <td width="100" align="center">City</td>
        <td width="10" align="center">PostalCode</td>

    </tr>
    <tbody *ngFor="let brokerage  of brokerages">
        <tr>
            <td  width="24" align="center" style="border: solid 1px #659EC7; padding: 1px;table-layout:fixed;">
                <button (click)=getBrokers(brokerage.pBrokerageId) style="background-color:#334668;color:#FFFFFF;font-size:small;width:60px;
                              border-color:#a2aabe;">
                    Brokers
                </button>

            </td>
            <td align="center" style="border: solid 1px #659EC7; padding: 5px;table-layout:fixed;">
                <span style="color:#9F000F">{{brokerage.pBrokerageId}}</span>
            </td>

            <td align="left" style="border: solid 1px #659EC7; padding: 5px;table-layout:fixed;">
                <span style="color:#9F000F">{{brokerage.pBrokerageName}} </span>
            </td>

            <td align="left" style="border: solid 1px #659EC7; padding: 5px;table-layout:fixed;">
                <span style="color:#9F000F">{{brokerage.Street}}{{brokerage.Street? brokerage.Street : "The user hasn't written it yet"}}</span>
            </td>

            <td align="center" style="border: solid 1px #659EC7; padding: 5px;table-layout:fixed;">
                <span style="color:#9F000F">{{brokerage.City}}</span>
            </td>

            <td align="left" style="border: solid 1px #659EC7; padding: 5px;table-layout:fixed;">
                <span style="color:#9F000F">{{brokerage.PostalCode}}</span>
            </td>
        </tr>

        <tr *ngIf="activeRow==brokerage.pBrokerageId">
            <td colspan="6" style="border: solid 1px #334668; padding: 5px;">

                <table class='table' style="background-color: darkgray; border:2px #000000; padding:5px;width:50%;table-layout:fixed;" cellpadding="2" cellspacing="2" *ngIf="brokers">
  

                    <tr>
                        <th colspan="4"><h4> Brokers </h4> </th>
                    </tr>
                    <tr style="height: 30px; background-color:#659EC7 ; color:#FFFFFF ;border: solid 1px #659EC7;">
 
                        <td width="24" align="center">pBrokerId</td>
                        <td width="24" align="center">pBrokerageId</td>
                        <td width="50" align="center">FirstName</td>
                        <td width="50" align="center">LastName</td>
                        <td width="50" align="center">Phone</td>

                    </tr>
                    <tbody *ngFor="let broker  of brokers">
                        <tr>
                            <td width="24" align="center">{{broker.pBrokerId}}</td>
                            <td width="24" align="center">{{broker.pBrokerageId}}</td>
                            <td width="50" align="center">{{broker.FirstName}}</td>
                            <td width="50" align="center">{{broker.LastName}}</td>
                            <td width="50" align="center">{{broker.Phone}}  </td>
                        </tr>
                    </tbody>
                </table>
            </td>
        </tr>
    
    
    </tbody>
</table>
